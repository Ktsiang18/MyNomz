<!DOCTYPE html>
<html lang="en">
<head>
  <title>Nomz Home</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Cabin+Sketch" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js">
  </script>
   <link rel="stylesheet" href="styles.css">
    <style>
        .navbar{
          margin-bottom: 0;
          border-radius: 0;
          background-color:#393E41;
          color: #FFF;
          padding: 1% 0;
          font-size: 1.2 em;
          border: 0;
      }
      .navbar-brand {
          float: left;
          max-height: 50px;
          padding: 0 15px 5px;
      }
      .navbar-inverse .navbar-nav .active a, .navbar-inverse .navbar-nav .active a:focus, .navbar-inverse .navbar-nav .active a:hover,{
          color:#FFF;
          background-color: #5E4485;
      }
      .navbar-inverse .navbar-nav li a{
          color:#D5D5D5;
      }
      
      .new-section {
            height: 100%;
            text-align: center;
            background: #eee;
            padding-bottom: 22px;
        }
    
        .about-section{
            background-color: #133C55;
        }
        .cadetblue {
            background-color: cadetblue;
        }

      .carousel-caption{
          top: 50%;
          transform: translateY(-90%);
          text-transform: uppercase;

      }
      .btn{
          font-family: 'Source Sans Pro', sans-serif;
          width: 100
          font-size: 18px;
          color: azure;
          background: #133C55 ;
          
      }
      
      div#mapholder {
          margin: 0 auto 0 auto;
      }
      
      #icon {
          max-height: 300px
          margin: 1% auto;
      }
        #about {
            padding-top: 15px;
            padding-bottom: 100px;
        }
        #welcome{
            margin-bottom: 0;
            border-radius: 0;
            background-color: #506C64;
            width:auto;
        }

      @media(max-width: 600px){
          .carousel-caption{
              display:none;
          }
      }

    #map {
    height: 600px;
    }

    h1 {
	font-family: 'Cabin Sketch', cursive;
	font-size: 90px;
	font-weight: 500;
	line-height: 20px;
    padding-bottom: 30px;
    color: #506C64;
}
    h2 {
    font-family: 'Source Sans Pro', sans-serif;
    font-size: 100%;
    color: azure;
    padding-bottom: 22px;
    }
    
    p {
    font-family: 'Source Sans Pro', sans-serif;
    font-size: 120%;
    color: azure;
    position: relative;
    float: left;
    top: 100%;
    left: 50%;
    transform: translate(-50%, 15%);
    padding-bottom: px;
    }
        
        img {
    width: 100%; /* or any custom size */
    height: 100%; 
    object-fit: contain;
}
.carousel-inner{
        height:350px;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-inverse">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle = "collapse" data-target = "#myNavbar">
              <span class = "icon-bar"></span>
              <span class = "icon-bar"></span>
              <span class = "icon-bar"></span>
          </button>
          <img src = "img/nomzTitle.png" style="width:450px;height:128px;">
        </div>
        <div class = "collapse navbar-collapse" id="myNavbar">
          <ul class = "nav navbar-nav navbar-right">
            <li class = "active"><a href = "#" onclick="window.location.href='nomzHome.html'">Home</a></li>
              <li><a href = "#" onclick="window.location.href='login.html'">Log In</a></li>
              <li><a href = "#">About</a></li>
            </ul>
          </div>
      </div>
    </nav>
    
<div class = "carousel-inner" role = "listbox" id = "dummy">
            <div class = "active">
            <img src = "img/googlemap.png">
            <div class = "carousel-caption">
                <h1>Welcome</h1>
                <h1>to Nomz!</h1>
                 <button type = "button" class = "btn btn-default" onclick="removeDummy(); getLocation();">SHOW MAP!</button>
            </div>
            </div>
  </div>
<!----End Active ---->
<!------ start geolocation --------------->

 <form id = "myForm" method="post"> 
<div id="mapholder"></div>
<script src="https://maps.google.com/maps/api/js?AIzaSyDZk4vZmwZCD3gMe0TXd0KVGWM__b-hstU"></script>
<script>
var x = document.getElementById("demo");
function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
    } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}
    <input type='hidden' id='hiddenField' name='latlong' value=''/>
      <script src="https://maps.google.com/maps/api/js?AIzaSyDZk4vZmwZCD3gMe0TXd0KVGWM__b-hstU"></script>
      <script>
      var x = document.getElementById("demo");
      function getLocation() {
          if (navigator.geolocation) {
              navigator.geolocation.getCurrentPosition(showPosition, showError);
              TestMarker();
          } else { 
              x.innerHTML = "Geolocation is not supported by this browser.";
          }
      }

      function showPosition(position) {
          var lat = position.coords.latitude;
          var lon = position.coords.longitude;
          var latlon = new google.maps.LatLng(lat, lon)
          document.getElementById('hiddenField').value = latlon;
          document.getElementById("myForm").submit();

          var mapholder = document.getElementById('mapholder')
          mapholder.style.height = '400px';

          var myOptions = {
          center:latlon,zoom:14,
          mapTypeId:google.maps.MapTypeId.ROADMAP,
          mapTypeControl:false,
          navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
          }
          
          var map = new google.maps.Map(document.getElementById("mapholder"), myOptions);
          var marker = new google.maps.Marker({position:latlon,
                                               map:map,
                                               icon:'bagRed.png',
                                               title:'You are here!'});
          var infowindow = new google.maps.InfoWindow({
              content:"Name: <br> Servings: <br> Type of Food: " 
          });
       
          google.maps.event.addListener(marker,'click', function(){
              infowindow.open(map,marker); 
          });     
    var myOptions = {
    center:latlon,zoom:14,
    mapTypeId:google.maps.MapTypeId.ROADMAP,
    mapTypeControl:false,
    navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
    }
    
    var map = new google.maps.Map(document.getElementById("mapholder"), myOptions);
    var marker = new google.maps.Marker({position:latlon,
                                         map:map,
                                         icon:'bagRed.png',
                                         title:'You are here!'});
    var infowindow = new google.maps.InfoWindow({
        content:"Name: <br> Servings: <br> Type of Food: " 
    });
 
    google.maps.event.addListener(marker,'click', function(){
        infowindow.open(map,marker); 
    }); 
    
    map.addListener('click', function(e) {
    placeMarker(e.latLng, map);
    });  
      }
           
function showError(error) {
    switch(error.code) {
        case error.PERMISSION_DENIED:
            x.innerHTML = "User denied the request for Geolocation."
            break;
        case error.POSITION_UNAVAILABLE:
            x.innerHTML = "Location information is unavailable."
            break;
        case error.TIMEOUT:
            x.innerHTML = "The request to get user location timed out."
            break;
        case error.UNKNOWN_ERROR:
            x.innerHTML = "An unknown error occurred."
            break;
    }
}

function placeMarker(position, map) {
    var marker = new google.maps.Marker({
        position: position,
        map: map,
        icon:'bowlRed.png'
    });
    map.panTo(position);
}

      function showError(error) {
          switch(error.code) {
              case error.PERMISSION_DENIED:
                  x.innerHTML = "User denied the request for Geolocation."
                  break;
              case error.POSITION_UNAVAILABLE:
                  x.innerHTML = "Location information is unavailable."
                  break;
              case error.TIMEOUT:
                  x.innerHTML = "The request to get user location timed out."
                  break;
              case error.UNKNOWN_ERROR:
                  x.innerHTML = "An unknown error occurred."
                  break;
          }
      }
     </form>  
    </script>


    
<!---------End of Slider  ------>
    <div class= "container-fluid">
        <div class = "border row">
             <div class="border col-xs-6".col-xs-6>
                <button onclick="window.location.href='donate_pg.html'"> 
                <img src = "img/donate.png" id = "icon">
                 </button>
               </div>     
            <div class="border col-xs-6".col-xs-6>
                <button onclick="window.location.href='request_pg.html'">
                <img src= "img/request.png" id = "icon">
                </button>
            </div>
        </div>
    </div>
    
<!------start of about --------------->
<section id="about" class="about-section">
  <div class="container fluid">
      <div class="container-fluid text-center">
          <p> Over 41 million people struggle with hunger in the US alone, yet as a country we continue on a trend of increasing food waste. Statistics show upwards of 40% of our produce and other foodstuffs goes to waste annually. Nomz makes addressing world hunger more accessible by connecting those with leftovers to those in need. Nomz aims to de-stigmatize hunger by making an accessible platform that allows people to donate or request food in a much more casual interaction compared to going to a shelter or food bank. Use our convenient mapping and messaging system to make a difference today! </p>
    </div>
  </div>
</section>
</body>
</html>
